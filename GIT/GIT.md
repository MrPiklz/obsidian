Система контроля версий
Четыре состояния
- изменён (modified)
- _**индексирован**_ (staged)
- - _**зафиксирован**_ (committed)
- - _**не отслеживаемый**_ (untracked)

![[Untitled.avif]]

НАСТРОЙКА
git config --global user.name "John Doe"
git config --global user.email "johndoe@example.com"
git config --list --show-origin


git init
git add <file>
git add . - этой командой можно индексировать все файлы в текущем каталоге

Для команды **git add** существует флаг -f (или --force), который позволяет принудительно выполнить коммит для игнорируемого файла. Это полезно если под шаблон игнорирования попадает нужный файл.

`git add -p`. Она отображает изменения, внесенные в файл, в виде нескольких фрагментов и предлагает выбрать, следует ли добавлять каждый из них или нет.


git commit -am "first commit”
-a автоматически добавляет все изменения рабочей директории в индекс. Флаг применять осторожно, дабы не добавить лишнее 
-m оставляем комментарий

`git commit –amend` изменить свой последний коммит


git log  -  список изменений

git branch NAME_BRANCH   - создание новой ветки
git checkout NAME_BRANCH  - переключение на другую ветку

git log --oneline --decorate --graph --all  - просмотр всех веток



git reset
--soft — оставляет файлы в текущем состоянии, но удаляет коммиты. git reset --soft HEAD~3 - удаляются последний три коммита.

--mixed — флаг по умолчанию (указывать не обязательно). Отменяет индексацию(git add) и отменяет коммит. При этом файлы будут изменены, и получат состояние modified.

--hard — сбрасывает изменения и удаляет все коммиты. 
git reset --hard ac12h2d   - удаляются все коммиты, сделанные после ac12h2d


git remote выводит название удаленного репозитория, origin дефолтное название которое дает git. При указании флага -v выводится ссылка


git remote add ticgit [https://github.com/schacon/ticgit](https://github.com/schacon/ticgit)


git fetch - получить изменения с удаленного репозитория, можно выполнить команду 

git push используется для создание резервной копии на сервере и отправки изменений для синхронизации кодовой базы

Чтобы запушить наш репозиторий на гитхаб, нужно связать локальный и удаленный репозиторий. git remote add origin <скопированная ссылка с гитхаб>

С помощью git remote можно посмотреть подключенные удаленные репозитории


`git push origin master`  master - ветка которую мы отправляем на удаленный сервер. Если ее там нет, то она будет создана.

Есть вариант слить ветку в другую. Для этого команда будет выглядеть так: 
git push origin master:remote_branch 
remote-branch - удаленная ветка в которую нужно слить.

git push --tags

git push --all  - запушить все, не ограничиваясь одной веткой


`git pull` является сокращением двух других команд. Сначала команда выполняет `git fetch` , затем выполняется слияние содержимого. Для слитого содержимого выполняется новый коммит и указатель HEAD переносится на этот коммит.

`git pull <remote-repo>`

**Git push** — отправка изменений в удалённый репозиторий.

**Git pull** — получение изменений из удалённого репозитория.

**Git pull** сливает любые внесённые коммиты в ветку, в которой вы сейчас работаете. Команда pull автоматически сливает коммиты, не давая вам сначала просмотреть их.

Git fetch — команда в распределенной системе контроля версий Git, которая используется для скачивания изменений из удаленного или локального репозитория в свой локальный репозиторий.

Сравнить свою локальную ветку с обновленной удаленной веткой и увидеть различия:


Включить изменения из удаленного репозитория в локальную копию проекта путем слияния. Считается самым частым действием после операции git fetch:
git merge

Наложить локальные коммиты поверх обновленной удаленной ветки. Такой вариант должен использоваться с осторожностью, так как в результате может привести к конфликтам, если удаленная ветка сильно изменилась:

git rebase 

Cуществуют четыре команды, которые скачивают код из удаленного репозитория: **git clone, git remote update, git fetch, git pull**.

**Git pull** — связка последующих команд **git fetch** и **git merge**.

**Git pull** следует применять, если у вас нет цели посмотреть изменения перед слиянием или вы не хотите медлить перед интеграцией изменений в локальную ветку.



git diff

**.gitconfig**
Все настройки выполняются в **.git/config**, либо командой **git config —edit**.

Хранится он в домашнем каталоге пользователя
На самом деле существует несколько файлов gitconfig: 1. На уровне системы (/etc/gitconfig). git config --system Для его редактирования должны быть права root. 2. Настройки пользователя хранит ~/.gitconfig или ~/.config/git/config . Используется при флаге --global 3. Для текущего git репозитория хранится в .git/config Для запуска нужно указать флаг --local

[alias]
  co = checkout
  ci = commit
  st = status
  br = branch
	graph = log --oneline --decorate --graph --all

Другой способ добавить alias git config --global alias.ci commit

.gitignore
Для избегания рекурсии используйте символ слеш (/) в начале шаблона.
Для исключения каталога добавьте слеш (/) в конец шаблона.
Можно инвертировать шаблон, достаточно поставить символ “!” в начале правила.


СЛИЯНИЕ

1. Указатель HEAD указывает на ветку, принимающую результаты слияния.
2. Проверить факт получения последних коммитов из удаленного репозитория (об удаленных репозиториях чуть позже).

Для слияния выполним команду git merge <name>, где <name> - ветка которую нужно слить в принимающую