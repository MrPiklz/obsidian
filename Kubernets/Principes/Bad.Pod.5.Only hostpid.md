При неправильной настройке приложения в кластере можно добраться до учетных данных приложения или кластера. Произойдет отказ в обслуживании из-за завершения процесса.

  

#### Как?

  

С одним только `hostPID` не так просто получить root-доступ к ноде, но кое-что натворить можно.

  

- **Смотрим процессы на хосте.** Если запустим `ps` в поде с `hostPID: true`, увидим все процессы на хосте, включая процессы на каждом поде.
- **Ищем пароли, токены, ключи и тому подобное.**Если повезет, найдем что-нибудь для эскалации привилегий и доберемся до кластера, до сервисов, поддерживаемых кластером, или до сервисов, которые общаются с приложениями на кластере. Придется повозиться, но можно найти токен для учетки сервиса в Kubernetes или что-то подобное, чтобы раздобыть доступ к другим пространствам имен и в итоге получить привилегии cluster-admin.
- **Завершаем процессы.** Можно завершить на ноде любой процесс, чтобы вызвать отказ в обслуживании (не советую пентестерам экспериментировать с этим пунктом).

  

**Примеры использования**

  

[https://github.com/BishopFox/badPods/tree/main/manifests/hostpid](https://github.com/BishopFox/badPods/tree/main/manifests/hostpid)